<link rel='ractive' href='templates/tml2/tml2.html'>

<div class="container">
	
	<div class="slideshow">
		<div class="main">
			<a class="prev"><span>&laquo;</span></a>
			<div class="main-image">
				<tml2 
					nome='{{currentData.nome}}'
					cognome='{{currentData.cognome}}'
					bgColor='{{currentData.bgColor}}'
					textColor='{{currentData.textColor}}'
					img='{{currentData.img}}'
					telefono='{{currentData.telefono}}'
					mail='{{currentData.mail}}'
					via='{{currentData.via}}'
					facebook='{{currentData.facebook}}'
					linkedin='{{currentData.linkedin}}'
					googleP='{{currentData.googleP}}'
					twitter='{{currentData.twitter}}'
				>
				</tml2>
			</div>
			<a class="next"><span>&raquo;</span></a>
		</div>
		<div class="caption"><p>caption bla bla bla</p></div>
	</div>

</div>


<style>

	/*************** contenitore provvisorio ***************/
	.container{
		max-width: 100%;
		height: 20em;
		border: 1px solid black;
	}
	/******************************************************/
	.slideshow{
		position: relative;
    	width: 100%;
    	height: 100%;
    	-webkit-box-sizing: border-box;
    	-moz-box-sizing: border-box;
    	box-sizing: border-box;
    	padding: 0 0 3em 0;
    	background-color: #f4f4f4;
	}

	.main{
		position: relative;
    	width: 100%;
    	height: 100%;
    	padding: 0 2em;
    	-webkit-box-sizing: border-box;
    	-moz-box-sizing: border-box;
    	box-sizing: border-box;
	}

	.prev, .next {
	    position: absolute;
	    top: 0;
	    width: 2em;
	    height: 100%;
	    text-align: center;
	    cursor: pointer;
	    font-size: 1em;
	    padding: 0;
	    -webkit-box-sizing: border-box;
	    -moz-box-sizing: border-box;
	    box-sizing: border-box;
	    -webkit-user-select: none;
	    -moz-user-select: none;
	    -ms-user-select: none;
	    user-select: none;
	    background-color: #BABABA;
	}

	.prev{
		left: 0;
    	border-right: 1px solid #ddd;
	}

	.next{
		right: 0;
    	border-left: 1px solid #ddd;
	}

	.prev span, .next span {
	    position: absolute;
	    top: 50%;
	    width: 100%;
	    display: block;
	    line-height: 0;
	    text-align: center;
	    font-size: 1.6em;
	    font-family: Arial;
	    color: #000000;
	}

	.main-image {
	    width: 100%;
	    height: 100%;
	    background: #f4f4f4 no-repeat 50% 50%;
	    background-size: contain;
	    -webkit-box-sizing: border-box;
	    -moz-box-sizing: border-box;
	    box-sizing: border-box;
	    padding: 1em 2em;
	}

	.caption {
	    position: absolute;
	    width: 100%;
	    height: 3em;
	    left: 0;
	    bottom: 0;
	    text-align: center;
	    background-color: white;
	}

</style>

<script>
	component.exports = {
		data: {

			currentIndex: 0,

			goto: function(index){
				if (index < 0) { currentIndex = contacts.length-1; }
				else if (index > contacts.length-1) { currentIndex = 0; }
				else { currentIndex = index; }
				console.log(currentIndex, index);
			},

			currentData: function(index){
				console.log('computed call: '+ this.get('contacts['+index+']'));
				return this.get('contacts['+index+']');
			}
			
		},

		computed: {
			
		}
		
	}
</script>